<div class="auth-form-container">
    <h2>用户登录</h2>
    <form id="loginForm" class="auth-form">
        <div class="form-group">
            <label for="loginAccount">手机号/邮箱</label>
            <input type="text" id="loginAccount" name="loginAccount" required placeholder="请输入手机号或邮箱">
        </div>
        <div class="form-group">
            <label for="loginPassword">密码</label>
            <input type="password" id="loginPassword" name="loginPassword" required placeholder="请输入密码">
        </div>
        <div class="form-actions">
            <button type="submit" class="auth-btn">登录</button>
            <p class="form-tip">还没有账号？<a href="javascript:switchToRegister()" class="switch-link">立即注册</a></p>
        </div>
    </form>
</div>

<script>
// 切换到注册页面
function switchToRegister() {
    document.querySelectorAll('.nav a, .fixed-login-btn').forEach(link => link.classList.remove('active'));
    const registerSection = document.getElementById('register');
    const loginSection = document.getElementById('login');
    registerSection.classList.add('active');
    loginSection.classList.remove('active');
    // 加载注册页面内容
    fetch('register.html').then(res => res.text()).then(html => {
        registerSection.innerHTML = html;
        // 重新适配文本颜色
        if (window.setTextColorByBackground) setTextColorByBackground();
    });
    // 隐藏个人信息
    document.querySelector('.profile-section').classList.add('hidden');
}

// 登录表单提交逻辑
document.getElementById('loginForm')?.addEventListener('submit', function(e) {
    e.preventDefault();
    const account = document.getElementById('loginAccount').value;
    const password = document.getElementById('loginPassword').value;
    
    // 简单的前端验证
    const isPhone = /^1[3-9]\d{9}$/.test(account);
    const isEmail = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(account);
    if (!isPhone && !isEmail) {
        alert('请输入正确的手机号或邮箱！');
        return;
    }
    if (password.length < 6) {
        alert('密码长度不能少于6位！');
        return;
    }

    // 模拟登录请求（实际项目需替换为后端接口）
    alert(`登录成功！账号：${account}`);
    // 登录成功后可跳回首页
    window.location.hash = 'home';
    document.querySelector('[data-target="home"]').click();
});
</script>

<style>
.auth-form-container {
    max-width: 400px;
    margin: 20px auto;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.1);
}
.auth-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
}
.form-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
}
.form-group label {
    font-size: 14px;
    font-weight: 500;
}
.form-group input {
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
}
.auth-btn {
    padding: 10px;
    background-color: #0078ff;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.2s;
}
.auth-btn:hover {
    background-color: #0056b3;
}
.form-actions {
    display: flex;
    flex-direction: column;
    gap: 10px;
    text-align: center;
}
.form-tip {
    margin: 0;
    font-size: 14px;
}
.switch-link {
    color: #0078ff;
    text-decoration: none;
}
.switch-link:hover {
    text-decoration: underline;
}
/* 适配深色背景 */
body:not([style*="color: #333333"]) .auth-form-container {
    box-shadow: 0 2px 12px rgba(255,255,255,0.1);
    background-color: rgba(0,0,0,0.2);
}
body:not([style*="color: #333333"]) .form-group input {
    background-color: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.2);
    color: #f5f5f5;
}
body:not([style*="color: #333333"]) .auth-btn {
    background-color: #4db8ff;
}
body:not([style*="color: #333333"]) .auth-btn:hover {
    background-color: #2a91ff;
}
</style>